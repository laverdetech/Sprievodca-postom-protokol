<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprievodca P√¥stom | Interakt√≠vna Anal√Ωza</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        html {
            scroll-padding-top: 80px; /* Offset for fixed navbar */
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0e172b;
            color: #ffffff;
        }
        .glass-effect {
            background: rgba(30, 40, 58, 0.75);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(56, 188, 248, 0.1);
        }
        .highlight-text {
            color: #38bcf8;
        }
        .bg-accent {
            background-color: #38bcf8;
        }
        .border-accent {
            border-color: #38bcf8;
        }
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* Custom slider styles */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]:focus {
            outline: none;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 8px; /* Zv√§ƒç≈°en√° v√Ω≈°ka pre lep≈°iu viditeƒænos≈• */
            cursor: pointer;
            background: #2a384e; /* Mierne svetlej≈°ie pozadie */
            border-radius: 5px;
            border: 1px solid rgba(56, 188, 248, 0.5); /* Jemn√Ω okraj vo farbe zv√Ωraznenia */
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #38bcf8;
            cursor: pointer;
            margin-top: -8px; /* Upraven√° poz√≠cia pre centrovanie na novej li≈°te */
            border: 4px solid #0e172b;
        }
        input[type=range]::-moz-range-track {
            width: 100%;
            height: 8px; /* Zv√§ƒç≈°en√° v√Ω≈°ka pre lep≈°iu viditeƒænos≈• */
            cursor: pointer;
            background: #2a384e; /* Mierne svetlej≈°ie pozadie */
            border-radius: 5px;
            border: 1px solid rgba(56, 188, 248, 0.5); /* Jemn√Ω okraj vo farbe zv√Ωraznenia */
        }
        input[type=range]::-moz-range-thumb {
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #38bcf8;
            cursor: pointer;
            border: 4px solid #0e172b;
        }
        /* Modal Styles */
        .modal-backdrop {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(14, 23, 43, 0.8);
            backdrop-filter: blur(5px);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            z-index: 50;
        }
        .modal-backdrop.visible {
            opacity: 1;
            visibility: visible;
        }
        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.95);
            opacity: 0;
            visibility: hidden;
            transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;
            z-index: 100;
        }
        .modal-content.visible {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            visibility: visible;
        }
        body.modal-open {
            overflow: hidden;
        }
    </style>
</head>
<body class="scroll-smooth">

    <!-- Navigation Menu -->
    <nav class="sticky top-0 z-40 w-full glass-effect">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-xl font-bold highlight-text">Sprievodca P√¥stom</a>
            
            <!-- Desktop Menu -->
            <ul class="hidden md:flex space-x-8 text-sm font-medium text-gray-300">
                <li><a href="#metabolicka-cesta" class="hover:highlight-text transition-colors duration-300">Metabolick√° Cesta</a></li>
                <li><a href="#vizualizacia" class="hover:highlight-text transition-colors duration-300">Vizualiz√°cie</a></li>
                <li><a href="#protocols" class="hover:highlight-text transition-colors duration-300">Protokoly</a></li>
                <li><a href="#prirucka" class="hover:highlight-text transition-colors duration-300">Pr√≠ruƒçka</a></li>
            </ul>

            <!-- Mobile Menu Button -->
            <button id="mobile-menu-button" class="md:hidden p-2 rounded-md text-gray-300 hover:bg-[#1e283a]">
                <svg id="menu-open-icon" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                </svg>
                 <svg id="menu-close-icon" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden border-t border-transparent">
            <ul class="flex flex-col items-center text-center space-y-4 py-4 text-gray-300">
                <li><a href="#metabolicka-cesta" class="block py-2">Metabolick√° Cesta</a></li>
                <li><a href="#vizualizacia" class="block py-2">Vizualiz√°cie</a></li>
                <li><a href="#protocols" class="block py-2">Protokoly</a></li>
                <li><a href="#prirucka" class="block py-2">Pr√≠ruƒçka</a></li>
            </ul>
        </div>
    </nav>


    <!-- Header -->
    <header class="container mx-auto px-6 py-12 text-center fade-in">
        <h1 class="text-4xl md:text-6xl font-bold mb-4">
            Sprievodca Svetom <span class="highlight-text">P√¥stu</span>
        </h1>
        <p class="text-lg md:text-xl text-gray-300 max-w-3xl mx-auto">
            Objavte silu metabolickej flexibility a bunkovej obnovy. Interakt√≠vny prehƒæad p√¥stnych protokolov od 12 do 72 hod√≠n, zalo≈æen√Ω na vedeck√Ωch poznatkoch.
        </p>
    </header>

    <main class="container mx-auto px-6">

        <!-- Sekcia Metabolick√° Cesta -->
        <section id="metabolicka-cesta" class="my-16 fade-in">
            <h2 class="text-3xl font-bold text-center mb-10">Metabolick√° Cesta Telom Poƒças P√¥stu</h2>
            <div class="relative w-full max-w-5xl mx-auto">
                <!-- Timeline Line -->
                <div class="absolute left-4 top-4 bottom-4 w-1 bg-[#1e283a] rounded-full"></div>
                
                <!-- Timeline Items -->
                <div class="space-y-12">
                    <!-- 0-12 Hod√≠n -->
                    <div class="relative flex items-center">
                        <div class="w-full ml-12">
                            <div class="bg-[#1e283a] p-6 rounded-xl shadow-lg border border-transparent hover:border-accent transition-all duration-300">
                                <p class="text-sm font-semibold highlight-text mb-1">0-12 Hod√≠n</p>
                                <h3 class="text-xl font-bold mb-2">Prechod do Katabolizmu</h3>
                                <p class="text-gray-300 text-sm">Telo spotreb√∫va gluk√≥zu z posledn√©ho jedla. Hladina inzul√≠nu kles√°, ƒço je sign√°l pre telo, aby zaƒçalo siaha≈• po ulo≈æen√Ωch z√°sob√°ch energie.</p>
                            </div>
                        </div>
                        <div class="absolute left-4 w-8 h-8 bg-[#0e172b] border-4 border-accent rounded-full flex items-center justify-center">
                            <div class="w-2 h-2 bg-accent rounded-full"></div>
                        </div>
                    </div>
                    <!-- 12-24 Hod√≠n -->
                    <div class="relative flex items-center">
                        <div class="w-full ml-12">
                             <div class="bg-[#1e283a] p-6 rounded-xl shadow-lg border border-transparent hover:border-accent transition-all duration-300">
                                <p class="text-sm font-semibold highlight-text mb-1">12-24 Hod√≠n</p>
                                <h3 class="text-xl font-bold mb-2">Metabolick√Ω Prep√≠naƒç</h3>
                                <p class="text-gray-300 text-sm">Z√°soby glykog√©nu sa vyƒçerp√°vaj√∫. Telo zaƒç√≠na produkova≈• ket√≥ny ako alternat√≠vne palivo a sp√∫≈°≈•a sa proces autof√°gie - bunkov√©ho ƒçistenia.</p>
                            </div>
                        </div>
                        <div class="absolute left-4 w-8 h-8 bg-[#0e172b] border-4 border-accent rounded-full flex items-center justify-center">
                            <div class="w-2 h-2 bg-accent rounded-full"></div>
                        </div>
                    </div>
                    <!-- 24-48 Hod√≠n -->
                    <div class="relative flex items-center">
                        <div class="w-full ml-12">
                             <div class="bg-[#1e283a] p-6 rounded-xl shadow-lg border border-transparent hover:border-accent transition-all duration-300">
                                <p class="text-sm font-semibold highlight-text mb-1">24-48 Hod√≠n</p>
                                <h3 class="text-xl font-bold mb-2">Hlbok√Ω P√¥st</h3>
                                <p class="text-gray-300 text-sm">Telo je v hlbokej ket√≥ze. V√Ωrazne st√∫pa hladina rastov√©ho horm√≥nu (HGH) a maximalizuje sa autof√°gia, ƒço vedie k intenz√≠vnej bunkovej oprave.</p>
                            </div>
                        </div>
                        <div class="absolute left-4 w-8 h-8 bg-[#0e172b] border-4 border-accent rounded-full flex items-center justify-center">
                            <div class="w-2 h-2 bg-accent rounded-full"></div>
                        </div>
                    </div>
                    <!-- 48-72 Hod√≠n -->
                    <div class="relative flex items-center">
                        <div class="w-full ml-12">
                             <div class="bg-[#1e283a] p-6 rounded-xl shadow-lg border border-transparent hover:border-accent transition-all duration-300">
                                <p class="text-sm font-semibold highlight-text mb-1">48-72 Hod√≠n</p>
                                <h3 class="text-xl font-bold mb-2">Syst√©mov√Ω Reset</h3>
                                <p class="text-gray-300 text-sm">Doch√°dza k regener√°cii imunitn√Ωch buniek a kme≈àov√Ωch buniek. Toto ≈°t√°dium pon√∫ka hƒ∫bkov√© benefity, no vy≈æaduje si sk√∫senosti a opatrnos≈•.</p>
                            </div>
                        </div>
                        <div class="absolute left-4 w-8 h-8 bg-[#0e172b] border-4 border-accent rounded-full flex items-center justify-center">
                            <div class="w-2 h-2 bg-accent rounded-full"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sekcia Vizualiz√°cie -->
        <section id="vizualizacia" class="my-24 fade-in">
             <div class="bg-[#1e283a] p-6 md:p-8 rounded-2xl shadow-lg">
                <h2 class="text-3xl font-bold text-center mb-4">Vizualiz√°cia Priebehu P√¥stu</h2>
                <p class="text-center text-gray-400 mb-10">Posu≈àte a sledujte, ako sa menia kƒæ√∫ƒçov√© ukazovatele v priebehu 72 hod√≠n.</p>
                
                <!-- Slider -->
                <div class="mb-8">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-gray-400 text-sm">Zaƒçiatok P√¥stu</span>
                        <span id="slider-value" class="text-xl font-bold highlight-text">0 hod√≠n</span>
                        <span class="text-gray-400 text-sm">72 hod√≠n</span>
                    </div>
                    <input type="range" id="hour-slider" min="0" max="72" value="0" step="1">
                </div>

                <!-- Value Cards -->
                <div class="grid grid-cols-2 sm:grid-cols-3 gap-4 mb-8">
                    <div class="bg-[#0e172b] p-4 rounded-lg text-center">
                        <p class="text-sm text-gray-400">Inzul√≠n / Gluk√≥za</p>
                        <p id="insulin-value" class="text-2xl font-bold">Vysok√°</p>
                    </div>
                     <div class="bg-[#0e172b] p-4 rounded-lg text-center">
                        <p class="text-sm text-gray-400">Ket√≥ny</p>
                        <p id="ketones-value" class="text-2xl font-bold">N√≠zka</p>
                    </div>
                     <div class="bg-[#0e172b] p-4 rounded-lg text-center">
                        <p class="text-sm text-gray-400">Autof√°gia</p>
                        <p id="autophagy-value" class="text-2xl font-bold">Minim√°lna</p>
                    </div>
                     <div class="bg-[#0e172b] p-4 rounded-lg text-center">
                        <p class="text-sm text-gray-400">Rastov√Ω Horm√≥n</p>
                        <p id="hgh-value" class="text-2xl font-bold">Norm√°lna</p>
                    </div>
                    <div class="bg-[#0e172b] p-4 rounded-lg text-center">
                        <p class="text-sm text-gray-400">Kortizol (Stres)</p>
                        <p id="cortisol-value" class="text-2xl font-bold">Norm√°lna</p>
                    </div>
                    <div class="bg-[#0e172b] p-4 rounded-lg text-center">
                        <p class="text-sm text-gray-400">Spaƒæovanie Tukov</p>
                        <p id="fat-burning-value" class="text-2xl font-bold">N√≠zke</p>
                    </div>
                </div>

                <!-- Chart -->
                <div class="relative h-64 md:h-96">
                    <canvas id="fastingChart"></canvas>
                </div>
            </div>

            <!-- Circadian Chart Section -->
            <div class="bg-[#1e283a] p-6 md:p-8 rounded-2xl shadow-lg mt-12">
                <h2 class="text-3xl font-bold text-center mb-4">Zos√∫ladenie s Cirkadi√°nnym Rytmom</h2>
                <p class="text-center text-gray-400 mb-4 max-w-3xl mx-auto">Na≈°e telo funguje lep≈°ie, keƒè jeme v s√∫lade s jeho vn√∫torn√Ωmi hodinami. Inzul√≠nov√° citlivos≈• je najvy≈°≈°ia r√°no, zatiaƒæ ƒço veƒçer st√∫pa hladina sp√°nkov√©ho horm√≥nu melaton√≠nu.</p>
                <p class="text-center text-gray-300 mb-10 max-w-3xl mx-auto font-semibold">Sk√∫ste si nastavi≈• jed√°lensk√© okno do <span class="text-yellow-400">optim√°lnej z√≥ny</span> a vyhn√∫≈• sa jedlu v <span class="text-red-500">menej optim√°lnej veƒçernej z√≥ne</span>.</p>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-center">
                    <div class="lg:col-span-1 space-y-6">
                        <div>
                            <div class="flex justify-between items-center mb-2">
                                <label for="start-time-slider" class="font-semibold">Zaƒçiatok jedla</label>
                                <span id="start-time-label" class="text-lg font-bold highlight-text">08:00</span>
                            </div>
                            <input type="range" id="start-time-slider" min="0" max="23" value="8" step="1">
                        </div>
                         <div>
                            <div class="flex justify-between items-center mb-2">
                                <label for="end-time-slider" class="font-semibold">Koniec jedla</label>
                                <span id="end-time-label" class="text-lg font-bold highlight-text">16:00</span>
                            </div>
                            <input type="range" id="end-time-slider" min="0" max="23" value="16" step="1">
                        </div>
                        <div class="bg-[#0e172b] p-4 rounded-lg text-center">
                            <p class="text-sm text-gray-400">Dƒ∫≈æka jed√°lensk√©ho okna</p>
                            <p id="eating-window-duration" class="text-2xl font-bold">8 hod√≠n</p>
                        </div>
                    </div>
                    <div class="lg:col-span-2">
                         <div class="w-full relative pt-12">
                            <!-- Icons above the bar -->
                            <div class="flex justify-between px-2 text-gray-400 absolute w-full top-0 text-2xl">
                                <div class="opacity-50">üåô</div>
                                <div class="opacity-90">‚òÄÔ∏è</div>
                                <div class="opacity-50">üåô</div>
                            </div>

                            <!-- Main Timeline Bar -->
                            <div id="timeline-bar" class="h-10 w-full rounded-lg overflow-hidden relative shadow-inner" style="background: linear-gradient(to right, rgba(239, 68, 68, 0.5) 0%, rgba(239, 68, 68, 0.5) 25%, rgba(250, 204, 21, 0.4) 29.17%, rgba(250, 204, 21, 0.4) 62.5%, rgba(239, 68, 68, 0.5) 66.67%, rgba(239, 68, 68, 0.5) 100%);">
                                 <!-- This div provides the gradient background -->
                            </div>

                            <!-- User's Eating Window Overlay -->
                            <div id="eating-window-overlay" class="absolute top-[5px] h-10 bg-accent/50 rounded-lg border-2 border-accent transition-all duration-300 ease-in-out flex items-center justify-center">
                                <span class="font-bold text-sm text-white drop-shadow-lg">Jedlo</span>
                            </div>
                            
                             <!-- Time Axis Labels -->
                            <div id="timeline-axis" class="flex justify-between mt-2 text-xs text-gray-400">
                                <span>00:00</span>
                                <span>06:00</span>
                                <span>12:00</span>
                                <span>18:00</span>
                                <span>24:00</span>
                            </div>
                        </div>
                        <div id="circadian-legend" class="mt-6 flex flex-wrap justify-center gap-x-4 gap-y-2 text-sm text-gray-300">
                             <!-- Legend items here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>


        <!-- Sekcia P√¥stne Protokoly -->
        <section id="protocols" class="my-24 fade-in">
            <h2 class="text-3xl font-bold text-center mb-10">Porovnanie P√¥stnych Protokolov</h2>
            <div id="protocol-cards" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Karty protokolov sa vygeneruj√∫ pomocou JS -->
            </div>
        </section>

        <!-- Sekcia s detailmi protokolu (Modal/Panel) -->
        <section id="protocol-details-container" class="my-16 hidden fade-in">
             <div class="glass-effect rounded-2xl p-8 max-w-4xl mx-auto">
                <div class="flex justify-between items-start">
                    <div>
                        <h2 id="details-title" class="text-3xl font-bold highlight-text mb-2"></h2>
                        <p id="details-suitability" class="text-gray-300 mb-4"></p>
                    </div>
                    <button id="close-details" class="text-2xl text-gray-400 hover:text-white transition">&times;</button>
                </div>
                <p id="details-description" class="mb-6"></p>
                <div class="space-y-4">
                    <div>
                        <h4 class="font-semibold text-lg mb-2">Hlavn√© benefity:</h4>
                        <p id="details-benefits" class="text-gray-300"></p>
                    </div>
                    <div>
                        <h4 class="font-semibold text-lg mb-2">Na ƒço si da≈• pozor:</h4>
                        <p id="details-recommendations" class="text-gray-300"></p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Sekcia Praktick√° Pr√≠ruƒçka -->
        <section id="prirucka" class="my-24 fade-in">
            <h2 class="text-3xl font-bold text-center mb-10">Praktick√° Pr√≠ruƒçka pre Bezpeƒçn√Ω P√¥st</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto" id="guide-cards">
                <!-- Guide cards will be generated by JS -->
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="text-center py-8 mt-16 border-t border-[#1e283a]">
        <p class="text-gray-400">&copy; 2025 Sprievodca P√¥stom. Vytvoren√© s cieƒæom informova≈• a vzdel√°va≈•.</p>
    </footer>

    <!-- Modal Structure -->
    <div id="guide-modal-backdrop" class="modal-backdrop"></div>
    <div id="guide-modal-content" class="modal-content w-11/12 max-w-2xl">
        <div class="glass-effect rounded-2xl p-8 relative">
            <button id="guide-modal-close" class="absolute top-4 right-6 text-3xl text-gray-400 hover:text-white transition">&times;</button>
            <div class="flex flex-col sm:flex-row items-center gap-6">
                <div id="guide-modal-icon-container" class="flex-shrink-0 w-20 h-20 bg-[#0e172b] rounded-full flex items-center justify-center border-2 border-accent">
                    <!-- Icon will be inserted here -->
                </div>
                <div>
                    <h3 id="guide-modal-title" class="text-2xl font-bold highlight-text mb-2"></h3>
                    <p id="guide-modal-text" class="text-gray-300"></p>
                </div>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- DATA ---
            const protocols = [
                {
                    duration: '12h',
                    title: '12-hodinov√Ω P√¥st',
                    subtitle: 'Cirkadi√°nny Rytmus',
                    suitability: 'Ide√°lne pre zaƒçiatoƒçn√≠kov.',
                    description: 'Najmiernej≈°ia forma preru≈°ovan√©ho p√¥stu, ktor√° sa zos√∫laƒèuje s prirodzen√Ωmi denn√Ωmi rytmami tela. Skvel√Ω prv√Ω krok.',
                    benefits: 'Zlep≈°enie kvality sp√°nku, zos√∫ladenie s cirkadi√°nnym rytmom, podpora tr√°venia.',
                    recommendations: 'Ukonƒçite jedenie 2-3 hodiny pred span√≠m. Po prebuden√≠ sa hydratujte. Vhodn√© na ka≈ædodenn√∫ prax.'
                },
                {
                    duration: '16h',
                    title: '16-hodinov√Ω P√¥st',
                    subtitle: 'Met√≥da 16/8',
                    suitability: 'Pre zaƒçiatoƒçn√≠kov a≈æ stredne pokroƒçil√Ωch.',
                    description: 'Najpopul√°rnej≈°ia forma p√¥stu s 8-hodinov√Ωm jed√°lensk√Ωm oknom. Udr≈æateƒæn√° a efekt√≠vna met√≥da.',
                    benefits: 'Zlep≈°en√° citlivos≈• na inzul√≠n, spaƒæovanie tukov, udr≈æateƒæn√© chudnutie, inici√°cia autof√°gie.',
                    recommendations: 'Posledn√© jedlo by malo by≈• bohat√© na bielkoviny a vl√°kninu. Rann√° k√°va alebo ƒçaj m√¥≈æu pom√¥c≈•. Ide√°lny ƒças na ƒæah≈°ie cviƒçenie je pred preru≈°en√≠m p√¥stu.'
                },
                {
                    duration: '24h',
                    title: '24-hodinov√Ω P√¥st',
                    subtitle: 'Eat-Stop-Eat',
                    suitability: 'Pre stredne pokroƒçil√Ωch a pokroƒçil√Ωch.',
                    description: 'Celodenn√Ω p√¥st, typicky od veƒçere do veƒçere, praktizovan√Ω 1-2 kr√°t t√Ω≈ædenne. Vy≈æaduje ment√°lnu pr√≠pravu.',
                    benefits: 'V√Ωrazn√© spaƒæovanie tukov, siln√° autof√°gia, v√Ωznamn√Ω n√°rast rastov√©ho horm√≥nu (HGH).',
                    recommendations: 'Kƒæ√∫ƒçov√© je dopƒ∫≈àanie elektrolytov (soƒæ, drasl√≠k, horƒç√≠k), aby ste predi≈°li bolestiam hlavy. Vyhnite sa intenz√≠vnemu cviƒçeniu. Preru≈°te p√¥st mal√Ωm a ƒæahk√Ωm jedlom.'
                },
                {
                    duration: '36h',
                    title: '36-hodinov√Ω P√¥st',
                    subtitle: 'Mn√≠≈°sky P√¥st',
                    suitability: 'Len pre sk√∫sen√Ωch jedincov.',
                    description: 'Zah≈ï≈àa vynechanie jedla na cel√Ω jeden de≈à. Napr√≠klad od veƒçere v pondelok do ra≈àajok v stredu.',
                    benefits: 'Hlbok√° ket√≥za, maximaliz√°cia autof√°gie, extr√©mna ment√°lna jasnos≈•.',
                    recommendations: 'Suplement√°cia elektrolytov je nevyhnutn√°. Poƒç√∫vajte svoje telo a v pr√≠pade extr√©mnej slabosti p√¥st preru≈°te. Vy≈æaduje sa odpoƒçinok.'
                },
                {
                    duration: '48h',
                    title: '48-hodinov√Ω P√¥st',
                    subtitle: 'Hƒ∫bkov√° Obnova',
                    suitability: 'Pre veƒæmi sk√∫sen√Ωch, ide√°lne po konzult√°cii s lek√°rom.',
                    description: 'Dva cel√© dni bez jedla. Pon√∫ka potenci√°l pre regener√°ciu imunitn√Ωch buniek, no prin√°≈°a aj rizik√°.',
                    benefits: 'Vrchol autof√°gie, potenci√°lna regener√°cia imunitn√Ωch buniek, hƒ∫bkov√Ω reset.',
                    recommendations: 'Druh√Ω de≈à je ƒçasto ƒæah≈°√≠ ako prv√Ω. Preru≈°enie p√¥stu (re-feed) mus√≠ by≈• veƒæmi opatrn√© ‚Äì zaƒçnite napr√≠klad kostn√Ωm v√Ωvarom.'
                },
                {
                    duration: '72h',
                    title: '72-hodinov√Ω P√¥st',
                    subtitle: 'Syst√©mov√Ω Reset',
                    suitability: 'V√Ωluƒçne pre expertov pod lek√°rskym dohƒæadom.',
                    description: 'Tri cel√© dni bez jedla. V√Ωznamn√° fyziologick√° v√Ωzva s potenci√°lom pre regener√°ciu kme≈àov√Ωch buniek.',
                    benefits: 'Aktiv√°cia regener√°cie kme≈àov√Ωch buniek, kompletn√Ω syst√©mov√Ω reset.',
                    recommendations: 'Absol√∫tny pokojov√Ω re≈æim je nutnos≈•ou. Rizik√° s√∫ znaƒçn√©, vr√°tane straty svalovej hmoty a refeeding syndr√≥mu. Vy≈æaduje profesion√°lne monitorovanie.'
                }
            ];

            const guideData = [
                {
                    title: 'Hydrat√°cia a Elektrolyty',
                    short: 'Kƒæ√∫ƒç k √∫spe≈°n√©mu p√¥stu bez vedƒæaj≈°√≠ch √∫ƒçinkov.',
                    answer: 'Pite dostatok nekalorick√Ωch tekut√≠n ako voda, bylinkov√Ω ƒçaj alebo ƒçierna k√°va. Pri p√¥stoch nad 24 hod√≠n je kƒæ√∫ƒçov√© dopƒ∫≈àa≈• elektrolyty (≈°tipka kvalitnej soli do vody, doplnky s drasl√≠kom a horƒç√≠kom), aby ste predi≈°li bolestiam hlavy, √∫nave a svalov√Ωm k≈ïƒçom.',
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" /></svg>`
                },
                {
                    title: 'P√¥st a Fyzick√Ω V√Ωkon',
                    short: 'Ako strategicky spoji≈• cviƒçenie s p√¥stom.',
                    answer: 'ƒΩahk√° aktivita ako ch√¥dza alebo joga je zvyƒçajne v poriadku. Intenz√≠vny tr√©ning m√¥≈æe by≈• n√°roƒçn√Ω kv√¥li vyƒçerpan√Ωm z√°sob√°m glykog√©nu. Tr√©ning tesne pred preru≈°en√≠m p√¥stu m√¥≈æe maximalizova≈• rast svalov vƒèaka zv√Ω≈°enej citlivosti na inzul√≠n.',
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>`
                },
                {
                    title: 'Bezpeƒçn√© Preru≈°enie P√¥stu',
                    short: 'Najd√¥le≈æitej≈°√≠ krok pri dlh≈°√≠ch p√¥stoch.',
                    answer: 'Preru≈°enie dlh≈°ieho p√¥stu (48h+) je kritick√©. Zaƒçnite pomaly a opatrne, aby ste predi≈°li tzv. refeeding syndr√≥mu. Prv√© jedlo by malo by≈• mal√©, ƒæahko str√°viteƒæn√©, s n√≠zkym obsahom sacharidov. Ide√°lny je kostn√Ω v√Ωvar, avok√°do, alebo mal√° porcia bielkov√≠n so zeleninou. Vyhnite sa cukru a veƒæk√Ωm porci√°m.',
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-12v4m-2-2h4m6 4v4m-2-2h4M12 3v18" /></svg>`
                },
                {
                    title: 'Pre Koho P√¥st Nie Je Vhodn√Ω?',
                    short: 'Poznajte kontraindik√°cie a rizik√°.',
                    answer: 'P√¥st nie je vhodn√Ω pre tehotn√© a dojƒçiace ≈æeny, deti, osoby s podv√°hou (BMI < 18.5), s poruchami pr√≠jmu potravy v anamn√©ze, alebo s urƒçit√Ωmi zdravotn√Ωmi stavmi (napr. diabetes 1. typu). V≈ædy sa poraƒète so svoj√≠m lek√°rom predt√Ωm, ako zaƒçnete s ak√Ωmkoƒævek p√¥stnym re≈æimom.',
                    icon: `<svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" /></svg>`
                }
            ];


            // --- RENDER FUNCTIONS ---
            const protocolCardsContainer = document.getElementById('protocol-cards');
            protocols.forEach((protocol, index) => {
                const card = document.createElement('div');
                card.className = 'bg-[#1e283a] p-6 rounded-2xl shadow-lg cursor-pointer transform hover:scale-105 hover:shadow-cyan-500/20 transition-all duration-300';
                card.dataset.index = index;
                card.innerHTML = `
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-2xl font-bold">${protocol.title}</h3>
                        <span class="bg-accent text-[#0e172b] text-xs font-bold px-3 py-1 rounded-full">${protocol.duration}</span>
                    </div>
                    <p class="text-gray-400 mb-1 text-sm font-medium">${protocol.subtitle}</p>
                    <p class="text-gray-300">${protocol.suitability}</p>
                `;
                protocolCardsContainer.appendChild(card);
            });

            // Render Guide Cards
            const guideCardsContainer = document.getElementById('guide-cards');
            guideData.forEach((item, index) => {
                const card = document.createElement('div');
                card.className = 'bg-[#1e283a] p-6 rounded-2xl shadow-lg cursor-pointer transform hover:-translate-y-2 hover:shadow-cyan-500/20 transition-all duration-300 flex flex-col items-center text-center';
                card.dataset.index = index;
                card.innerHTML = `
                    <div class="w-16 h-16 mb-4 flex items-center justify-center">${item.icon.replace('h-10 w-10', 'h-12 w-12')}</div>
                    <h4 class="text-xl font-bold mb-2">${item.title}</h4>
                    <p class="text-gray-400 text-sm">${item.short}</p>
                `;
                guideCardsContainer.appendChild(card);
            });
            
            // --- CHART LOGIC ---
            function initCharts() {
                const ctx = document.getElementById('fastingChart');
                if (!ctx) return;

                const labels = Array.from({ length: 73 }, (_, i) => i);

                const insulinData = [100, 95, 90, 85, 80, 75, 70, 65, 60, 50, 40, 30, 20, 15, 12, 10, 8, 7, 6, 5, 5, 5, 5, 5, 5, 4, 4, 4, 4, 4, 4, 4, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3];
                const ketonesData = [0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 5, 8, 12, 16, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 84, 88, 92, 95, 98, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100];
                const autophagyData = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 4, 6, 8, 12, 16, 20, 25, 30, 35, 40, 45, 55, 65, 75, 80, 84, 88, 92, 95, 98, 99, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 99, 98, 97, 96, 95, 94, 93, 92, 91, 90, 89, 88, 87, 86, 85, 84, 83, 82, 81, 80, 79, 78, 77];
                const hghData = [5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 10, 20, 30, 50, 80, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100, 100];
                const cortisolData = [5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55, 60, 65, 70, 75, 80, 85, 90, 95, 100, 100, 100, 100, 100, 100];
                
                function interpolate(x1, y1, x2, y2, x) {
                    return y1 + (y2 - y1) * (x - x1) / (x2 - x1);
                }
                const fatBurningRawData = [];
                for (let i = 0; i <= 72; i++) {
                    if (i <= 4) fatBurningRawData.push(interpolate(0, 0, 4, 5, i));
                    else if (i <= 12) fatBurningRawData.push(interpolate(4, 5, 12, 20, i));
                    else if (i <= 16) fatBurningRawData.push(interpolate(12, 20, 16, 50, i));
                    else if (i <= 24) fatBurningRawData.push(interpolate(16, 50, 24, 80, i));
                    else if (i <= 48) fatBurningRawData.push(interpolate(24, 80, 48, 90, i));
                    else fatBurningRawData.push(90);
                }
                const fatBurningData = fatBurningRawData.map(v => Math.round(v));

                const dataStore = { insulinData, ketonesData, autophagyData, hghData, cortisolData, fatBurningData };

                const verticalLinePlugin = {
                    id: 'verticalLine',
                    afterDraw: chart => {
                        if (chart.tooltip?._active?.length) {
                            let x = chart.tooltip._active[0].element.x;
                            let yAxis = chart.scales.y;
                            let ctx = chart.ctx;
                            ctx.save();
                            ctx.beginPath();
                            ctx.moveTo(x, yAxis.top);
                            ctx.lineTo(x, yAxis.bottom);
                            ctx.lineWidth = 1;
                            ctx.strokeStyle = 'rgba(56, 188, 248, 0.5)';
                            ctx.stroke();
                            ctx.restore();
                        }
                    }
                };

                const chart = new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: labels,
                        datasets: [
                            { label: 'Inzul√≠n/Gluk√≥za', data: insulinData, borderColor: '#f87171', tension: 0.4, pointRadius: 0, borderWidth: 2 },
                            { label: 'Ket√≥ny', data: ketonesData, borderColor: '#4ade80', tension: 0.4, pointRadius: 0, borderWidth: 2 },
                            { label: 'Autof√°gia', data: autophagyData, borderColor: '#38bcf8', tension: 0.4, pointRadius: 0, borderWidth: 2 },
                            { label: 'HGH', data: hghData, borderColor: '#facc15', tension: 0.4, pointRadius: 0, borderWidth: 2 },
                            { label: 'Kortizol', data: cortisolData, borderColor: '#c084fc', tension: 0.4, pointRadius: 0, borderWidth: 2 },
                            { label: 'Spaƒæovanie Tukov', data: fatBurningData, borderColor: '#f97316', tension: 0.4, pointRadius: 0, borderWidth: 2 }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        animation: { duration: 1000, easing: 'easeInOutQuad' },
                        plugins: {
                            legend: { position: 'bottom', labels: { color: '#9ca3af', usePointStyle: true } },
                            tooltip: { mode: 'index', intersect: false, backgroundColor: '#1e283a', titleColor: '#ffffff', bodyColor: '#d1d5db', borderColor: '#38bcf8', borderWidth: 1 },
                        },
                        scales: {
                            y: { beginAtZero: true, max: 110, display: false },
                            x: { grid: { color: 'rgba(255, 255, 255, 0.05)' }, ticks: { color: '#9ca3af', maxTicksLimit: 8 } }
                        },
                        interaction: { mode: 'index', intersect: false, },
                    },
                    plugins: [verticalLinePlugin]
                });
                
                updateCards(0, dataStore);
                setupSlider(chart, dataStore);
            }

            function setupSlider(chart, dataStore) {
                 const slider = document.getElementById('hour-slider');
                 slider.addEventListener('input', (e) => {
                    const hour = parseInt(e.target.value, 10);
                    updateCards(hour, dataStore);
                    if (chart.tooltip) {
                        chart.tooltip.setActiveElements([
                            { datasetIndex: 0, index: hour }, { datasetIndex: 1, index: hour },
                            { datasetIndex: 2, index: hour }, { datasetIndex: 3, index: hour },
                            { datasetIndex: 4, index: hour }, { datasetIndex: 5, index: hour }
                        ]);
                        chart.update();
                    }
                 });
            }

            function updateCards(hour, dataStore) {
                document.getElementById('slider-value').textContent = `${hour} hod√≠n`;
                const insulin = dataStore.insulinData[hour];
                const ketones = dataStore.ketonesData[hour];
                const autophagy = dataStore.autophagyData[hour];
                const hgh = dataStore.hghData[hour];
                const cortisol = dataStore.cortisolData[hour];
                const fatBurning = dataStore.fatBurningData[hour];

                document.getElementById('insulin-value').textContent = insulin > 70 ? 'Vysok√°' : insulin > 20 ? 'Klesaj√∫ca' : 'N√≠zka';
                document.getElementById('ketones-value').textContent = ketones < 10 ? 'N√≠zka' : ketones < 60 ? 'Stredn√°' : 'Vysok√°';
                document.getElementById('autophagy-value').textContent = autophagy < 10 ? 'Minim√°lna' : autophagy < 70 ? 'Akt√≠vna' : 'Maxim√°lna';
                document.getElementById('hgh-value').textContent = hgh < 10 ? 'Norm√°lna' : hgh < 50 ? 'Zv√Ω≈°en√°' : 'Vysok√°';
                document.getElementById('cortisol-value').textContent = cortisol < 20 ? 'Norm√°lna' : cortisol < 60 ? 'Zv√Ω≈°en√°' : 'Vysok√°';
                document.getElementById('fat-burning-value').textContent = fatBurning < 30 ? 'N√≠zke' : fatBurning < 70 ? 'Stredn√©' : 'Dominantn√©';
            }
            
            function initCircadianChart() {
                const startTimeSlider = document.getElementById('start-time-slider');
                const endTimeSlider = document.getElementById('end-time-slider');
                const startTimeLabel = document.getElementById('start-time-label');
                const endTimeLabel = document.getElementById('end-time-label');
                const durationLabel = document.getElementById('eating-window-duration');
                const eatingWindowOverlay = document.getElementById('eating-window-overlay');

                function formatTime(hour) {
                    return hour.toString().padStart(2, '0') + ':00';
                }
                
                function updateLinearTimeline() {
                    let start = parseInt(startTimeSlider.value);
                    let end = parseInt(endTimeSlider.value);

                     if (start >= end) {
                        if (end > 0) {
                            start = end - 1;
                        } else {
                            start = 23;
                        }
                        startTimeSlider.value = start;
                    }
                    
                    startTimeLabel.textContent = formatTime(start);
                    endTimeLabel.textContent = formatTime(end);
                    
                    let eatingDuration = end - start;
                    if (eatingDuration <= 0) eatingDuration = 1;
                    
                    durationLabel.textContent = `${eatingDuration} hod.`;

                    const startPercent = (start / 24) * 100;
                    const widthPercent = (eatingDuration / 24) * 100;

                    eatingWindowOverlay.style.left = `${startPercent}%`;
                    eatingWindowOverlay.style.width = `${widthPercent}%`;
                }
                
                const legendContainer = document.getElementById('circadian-legend');
                const legendData = [
                    { label: 'Optim√°lna z√≥na', color: 'rgba(250, 204, 21, 0.7)' },
                    { label: 'Menej optim√°lna z√≥na', color: 'rgba(239, 68, 68, 0.7)' },
                    { label: 'Va≈°e jedlo', color: 'rgba(56, 188, 248, 0.7)' }
                ];

                legendContainer.innerHTML = '';
                legendData.forEach(item => {
                    const legendItem = document.createElement('div');
                    legendItem.className = 'flex items-center';
                    legendItem.innerHTML = `<span class="w-3 h-3 rounded-full mr-2" style="background-color: ${item.color}; border: 1px solid ${item.color === 'rgba(56, 188, 248, 0.7)' ? '#fff' : 'transparent'}"></span><span>${item.label}</span>`;
                    legendContainer.appendChild(legendItem);
                });

                startTimeSlider.addEventListener('input', updateLinearTimeline);
                endTimeSlider.addEventListener('input', updateLinearTimeline);
                updateLinearTimeline();
            }

            initCharts();
            initCircadianChart();

            // --- EVENT LISTENERS ---

            // Mobile Menu Toggle
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuOpenIcon = document.getElementById('menu-open-icon');
            const menuCloseIcon = document.getElementById('menu-close-icon');

            mobileMenuButton.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
                menuOpenIcon.classList.toggle('hidden');
                menuCloseIcon.classList.toggle('hidden');
                // Optional: add a border when menu is open
                mobileMenu.parentElement.querySelector('div').parentElement.classList.toggle('border-b');
                mobileMenu.parentElement.querySelector('div').parentElement.classList.toggle('border-accent/20');

            });

            // Close mobile menu when a link is clicked
            mobileMenu.addEventListener('click', (e) => {
                if (e.target.tagName === 'A') {
                    mobileMenu.classList.add('hidden');
                    menuOpenIcon.classList.remove('hidden');
                    menuCloseIcon.classList.add('hidden');
                }
            });
            
            // Protocol Details Logic
            const detailsContainer = document.getElementById('protocol-details-container');
            const closeDetailsBtn = document.getElementById('close-details');
            protocolCardsContainer.addEventListener('click', (e) => {
                const card = e.target.closest('div[data-index]');
                if (card) {
                    const protocol = protocols[card.dataset.index];
                    document.getElementById('details-title').textContent = protocol.title;
                    document.getElementById('details-suitability').textContent = protocol.suitability;
                    document.getElementById('details-description').textContent = protocol.description;
                    document.getElementById('details-benefits').textContent = protocol.benefits;
                    document.getElementById('details-recommendations').textContent = protocol.recommendations;
                    detailsContainer.classList.remove('hidden');
                    setTimeout(() => {
                        detailsContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }, 100);
                }
            });
            closeDetailsBtn.addEventListener('click', () => {
                detailsContainer.classList.add('hidden');
            });

            // Guide Modal Logic
            const guideModalBackdrop = document.getElementById('guide-modal-backdrop');
            const guideModalContent = document.getElementById('guide-modal-content');
            const guideModalCloseBtn = document.getElementById('guide-modal-close');
            
            function openGuideModal(index) {
                const item = guideData[index];
                document.getElementById('guide-modal-icon-container').innerHTML = item.icon;
                document.getElementById('guide-modal-title').textContent = item.title;
                document.getElementById('guide-modal-text').textContent = item.answer;
                document.body.classList.add('modal-open');
                guideModalBackdrop.classList.add('visible');
                guideModalContent.classList.add('visible');
            }

            function closeGuideModal() {
                document.body.classList.remove('modal-open');
                guideModalBackdrop.classList.remove('visible');
                guideModalContent.classList.remove('visible');
            }

            guideCardsContainer.addEventListener('click', (e) => {
                const card = e.target.closest('div[data-index]');
                if (card) {
                    openGuideModal(card.dataset.index);
                }
            });

            guideModalCloseBtn.addEventListener('click', closeGuideModal);
            guideModalBackdrop.addEventListener('click', closeGuideModal);

            // Fade-in Animation on Scroll
            const fadeInElements = document.querySelectorAll('.fade-in');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            fadeInElements.forEach(el => {
                observer.observe(el);
            });
            document.querySelector('header.fade-in').classList.add('visible');
        });
    </script>
</body>
</html>

